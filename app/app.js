!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t){e.exports=require("electron")},,function(e,t){e.exports=require("path")},function(e,t){e.exports=require("lodash")},,,,,function(e,t){e.exports=require("util")},function(e,t){e.exports=require("json5")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("fs-extra")},function(e,t){e.exports=require("slash")},function(e,t){e.exports=require("electron-clipboard-extended")},function(e,t){e.exports=require("electron-is-dev")},,function(e,t){e.exports=require("split.js")},function(e,t){e.exports=require("mousetrap")},function(e,t,n){"use strict";n.r(t);var o=n(3),r=n.n(o),i=n(0);n(8);function s(e){return document.querySelector(e)}function l(e,t){let n=document.createElement(e);return t&&n.classList.add(t),n}function c(e,t){let n=document.createElement("span");return n.textContent=e,t&&n.classList.add(t),n}function u(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)}var a=n(16),d=n.n(a);const f=console.log,p=n(13),h=n(0).remote.require("electron-settings"),m=n(17),{getCurrentWindow:g}=(n(11),n(2),n(12),n(0).remote);let b,y=[{section:"home"}],x=0;function v(e){!function(){const e=document.querySelectorAll(".section.is-shown");Array.prototype.forEach.call(e,e=>{e.classList.remove("is-shown")})}(),s(["#",e].join("")).classList.add("is-shown")}function q(e){try{JSON.parse(JSON.stringify(e))}catch(e){f("NAV-state ERR",e)}let t=e.section,n=s("#progress"),o=s("#new-version");["title","book","search"].includes(t)&&n.classList.add("is-shown"),"home"!=t&&o.classList.remove("is-shown"),v(t),e.old?delete e.old:(y.push(e),x=y.length-1),"home"==t?getLib():"title"==t?(function(e){let t=s("#titlesource"),n=s("#titletrns");u(t),u(n),s(["#title > .gutter"].join(""))||d()(["#titlesource","#titletrns"],{sizes:[50,50],gutterSize:5,cursor:"col-resize",minSize:[0,0]})}(),getTitle(e)):"book"==t?(function(e){let t=s("#booksource"),n=s("#booktrns");u(t),u(n);let o=h.get("split-sizes")||[50,50];if(b&&e.mono?b.collapse(1):b&&b.setSizes(o),b)return;h.set("split-sizes",o),b=d()(["#booksource","#booktrns"],{sizes:o,gutterSize:5,cursor:"col-resize",minSize:[0,0],onDragEnd:function(e){h.set("split-sizes",e),g().reload()}}),e.mono&&b.collapse(1);let r=s("#book");document.addEventListener("keydown",function(t){keyPanes(t,e)},!1),r.addEventListener("wheel",function(t){scrollPanes(t,e)},!1)}(e),getBook(e)):"search"==t&&getQuery(e),h.set("state",e)}m.bind(["alt+left","alt+right"],function(e){37==e.which?function(){if(x-1<0)return;x-1>=0&&x--;let e=y[x];e.old=!0,q(e)}():39==e.which&&function(){if(x+1>=y.length)return;x+1<y.length&&x++;let e=y[x];e.old=!0,q(e)}()}),m.bind(["alt+1","alt+2"],function(e){}),m.bind(["ctrl+f"],function(e){q({section:"search",query:p.readText().split(" ")[0]})}),m.bind(["ctrl+v"],function(e){let t=h.get("state");t.infoid&&getInfo(t.infoid).then(function(e){e&&function(e){v("stats");let t=s("#qstats");u(t);let n=l("div","title");n.textContent=e.book.title;let o=l("div");t.appendChild(n),t.appendChild(o);let i=r.a.groupBy(e.stats,"fpath");for(let e in i){let t=l("ul","statfpath");t.textContent=e,o.appendChild(t);let n=i[e],s=r.a.map(n,e=>e.pars),u=1==r.a.uniq(s).length;n.forEach(e=>{let n=l("li","statline"),o=c(e.nic,"statnic"),r=c(e.pars,"statsize");n.appendChild(o),n.appendChild(r),t.appendChild(n),u?r.classList.add("green"):r.classList.add("red")})}}(e)})}),m.bind(["esc"],function(e){});n(0).remote.require("electron-settings"),n(9),n(10);n(11);n(12),console.log,n(2),n(13);const{dialog:S,getCurrentWindow:w}=n(0).remote;n(14),i.remote.app;s("#new-version");let C=s("#container");var z;(z='link[rel="import"]',document.querySelectorAll(z)).forEach(e=>{let t=e.import.querySelector(".section");C.appendChild(t.cloneNode(!0))}),s("#home").classList.add("is-shown")}]);
//# sourceMappingURL=app.js.map